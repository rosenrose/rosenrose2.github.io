---
title: 랜덤
layout: page
page_title: Random
permalink: /random/
---

<script>
  var comingFromPost = document.referrer;

  function linkToRandomBlogPost() {
    var allPosts = [{% for post in site.posts %}
      "{{ site.baseurl }}/{{ post.url }}"{% unless post.previous == nil %},{% endunless %}
    {% endfor %}];

    var i = 0;
    do {
      var randomPostLink = allPosts[Math.floor(Math.random() * allPosts.length)];
      i++;}
    while (comingFromPost.includes(randomPostLink) || i > 10)

    if (i > 10 && comingFromPost !== '/random') {
      randomPostLink = '{{ site.baseurl }}/random';}

    if (i > 10 && comingFromPost === '/random') {
      randomPostLink = '{{ site.baseurl }}/tags'
    }

    return randomPostLink;
  }

  location.replace(linkToRandomBlogPost())

</script>
